---
title: "Assignment2a_Notebook"
author: "Lian Laudy"
date: "5 oktober 2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Load the data files containing the Pubchem Activity Score and the Descriptors 
```{r}
score = read.csv(file = 'C:/Users/Lian/Desktop/CloudStation/MSB1015 Scientific Programming/Assignments/2 Making multivariate statistics reproducible/qsarSmallData.csv', sep=',', header=TRUE)
score = score[, -1]

descriptors = read.csv(file = 'C:/Users/Lian/Desktop/CloudStation/MSB1015 Scientific Programming/Assignments/2 Making multivariate statistics reproducible/descriptors.csv', sep=',', row.names = 1, header=TRUE)
```

Sort the dataframes by substance ID such that the order of both matches
```{r}
score = score[order(score$SID),]
row.names(score) = c(1:nrow(score))
descriptors =  descriptors[order(descriptors$molSIDs),]
row.names(descriptors) = c(1:nrow(descriptors))
```

Create a training set(80%) and a test set(20%)  
```{r}
set.seed(0)
selection = sample(nrow(descriptors), 0.8*nrow(descriptors))
score_tr = score[selection, ]
score_te = score[-selection, ]
descs_tr = descriptors[selection, ]
descs_te = descriptors[-selection, ]
```

Training data contains many Na values:
```{r}
table(is.na(descs_tr))
table(colSums(is.na(descs_tr)))
```
Remove descriptors (columns) that contain at least one missing value:
```{r}
descs_tr = descs_tr[,colSums(!is.na(descs_tr)) == nrow(descs_tr)]
```

Cross-validation





Scale the training set in order to standardize the range of descriptors
```{r}
boxplot(descs_tr[,2:10])
descs_tr = scale(descs_tr)
boxplot(descs_tr[,2:10])
```


